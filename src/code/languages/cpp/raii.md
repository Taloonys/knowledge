---
tags: [code, languages, cpp]
aliases: [RAII is‚Ä¶]
---

> –ö —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É —Å—Ç–æ–∏—Ç –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤ –∫–æ–¥–µ –Ω–∞ —á–∏—Å—Ç—ã—Ö –ø–ª—é—Å–∞—Ö –æ—Ç–Ω—ã–Ω–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –∏–ª–∏ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å new/delete, open/close –∏ —Ç.–ø. —Å–æ–≤—Å–µ–º —è–≤–Ω–æ. –ù–µ —Å—á–∏—Ç–∞—è –æ—Å–æ–±—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –∏–ª–∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞
---

# RAII is‚Ä¶

> **RAII (Resource Acquisition Is Initialization) -** –ø—Ä–∏–Ω—Ü–∏–ø ‚Äú–ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ –µ—Å—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è‚Äù, —Ç.–µ. –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–æ –≤–ª–∞–¥–µ–Ω–∏–µ/—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π, –∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –æ—Ç –≤–ª–∞–¥–µ–Ω–∏—è/—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - –Ω–µ—Ä–∞–∑—Ä—ã–≤–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å –µ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ–º.
> 

<aside>
üí°

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–π –∏–¥–∏–æ–º—ã –ø–æ –ø–æ–ª–Ω–æ–π —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ –°++ –∫–æ–¥–∞. 
–ù–∏–∫–∞–∫–∏—Ö –≥–æ–ª—ã—Ö new/delete, open/close, connect/disconnect –∏ —Ç.–ø. –≤ –∫–æ–¥–µ —Å –º–æ–º–µ–Ω—Ç–∞!

</aside>

–°—É—Ç—å **RAII** –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º: –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –æ–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–∞–∫–æ–º—É –ª–∏–±–æ —Ä–µ—Å—É—Ä—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª –∏–ª–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ —Å–µ—Ç–∏ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–ø–∏—Å–∞—Ç–µ–ª—å —Ä–µ—Å—É—Ä—Å–∞ –≤ –∑–∞–∫—Ä—ã—Ç—ã–π —á–ª–µ–Ω–∞ –∫–ª–∞—Å—Å–∞, –∞ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —ç—Ç–æ—Ç —Ä–µ—Å—É—Ä—Å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è (–∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª –∏–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –ë–î). –ü—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –Ω–∞ —Å—Ç–µ–∫–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –≤—ã–∑–æ–≤–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏–π —Ä–µ—Å—É—Ä—Å. –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç –≤—ã—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞, –Ω–æ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –∑–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä - –µ—Å–ª–∏ –º—ã –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –≤—ã–¥–µ–ª—è–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–∞–º—è—Ç—å, —Ç–æ –¥–æ–ª–∂–Ω—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≤ —Å–ª—É—á–∞–µ —á–µ–≥–æ‚Ä¶ —Ç.–µ. –ø—Ä–æ–ø–∏—Å–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ.

```cpp
class Dummy 
{
	FileClass* file_; // –∏–Ω—Ç–µ—Ä–µ—Å—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç –∫–∞–∫–æ–≥–æ-—Ç–æ –∫–ª–∞—Å—Å–∞
	
public:
	expicit Dummy() 
		: file_(new FileClass()) // –≤—ã–¥–µ–ª–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ –ø–æ–¥ –Ω–∞—à –æ–±—ä–µ–∫—Ç
	{	}
	
	Dummy(Dummy &obj)              = delete; 
	Dummy& operator=(const Dummy&) = delete;

	Dummy(Dummy &&obj)             = delete; 
	
	virtual ~Dummy() 
	{
		delete file_; // –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –Ω–∞—à–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
	}
```

–°—Ç–æ–∏—Ç –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ –ø—Ä–∏–º–µ—Ä–µ —É–¥–∞–ª–µ–Ω—ã ‚Äú–æ–ø—Ü–∏–∏‚Äù –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ç–µ–º, —á—Ç–æ–±—ã –Ω–∏–≥–¥–µ –Ω–µ –±—ã–ª–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–¥ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —É–∫–∞–∑–∞—Ç–µ–ª—è file_.

# –ß–∞—Å—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏:

* [Scope guard](scope-guard.md) - (–¥–ª—è –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤)

* [smart pointers](smart-pointers.md) - (–ø–æ—á—Ç–∏ –¢–û–õ–¨–ö–û –¥–ª—è —É–∫–∞–∑–∞—Ç–µ–ª–µ–π), –Ω–æ –µ—Å—Ç—å `std::remove_pointer` =)

* [mutex](mutex.md) - (—Å–º. lock_guard)