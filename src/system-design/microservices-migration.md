> Переезд с монолита на микросервисы...
# Большой взрыв
> Одновременный перенос всего монолита в микросервисы
* Огромный риск
* Простой после релиза (никогда всё с первого раза не получается)
* Часть фич может исчезнуть из функционала и внимания
* Рост технического долга
# Strangler Fig
> Название взято с дерева "Фикус-душитель". Смысл в постепенной и иттерационной замене частей приложения
* Довольно удобно обучать команду микросервисам с помощью такого плавного перехода
* Все ошибки системы при переносе можно легко отловить
* Снижение рисков того, что новая архитектура просто упадёт
* Легко внедрять микрофичи во время переноса
* Для пользователя переход будет практически незаметен из-за постоянных тестирований перед деплоем
* Замена и обновление устаревших компонентов с минимизацией или даже уменьшением технического долга (если вдруг компонент портил ux)
* Проще вести качественную документацию
## Process plan
![](../../images/system-design__Untitled_47_1719847659.png)
# Критерии миграции
> Для определения того, кто переедет на микросервис, учитываются: насколько часто какой-то домен используется, где самая низкая производительность, какую часть кода сложнее всего поддерживать и т.п.
* Если нужно максимизировать ценность бизнеса прямо сейчас -> DDD
* Если много унаследованного легаси и сложно запутанного кода -> Технический анализ
* Если перфоманс приложения сильно сказывается на UX -> Анализ производительности
## Технический анализ
> Такой анализ обращает внимание на поддерживаемость кода и сложные связи компонентов.
## Анализ производительность
> С таким анализом выявляются наиболее часто используемые компоненты, решение о переезде компонента в таком случае решается на основе того, как: сильно это влияет на user-experience (UX) и стабильность работы приложения.
## Domain driven design
> Приоритет выбирается на основе приоритетных бизнес-задач, т.е. переезд какого домена будет важнее бизнесу. Также учитывается при переезде, чтобы такой домен можно было как можно скорее продолжить развивать.
# Порядок миграции компонентов системы
#### MoSCoW
> Определяется в порядке убавания приоритета на группы: Must have, should have, could have, won't have ("в принципе можно").
* Когда нужно связать технические причины с чётно обозначенными бизнес-целями
* Когда вовлечено несколько групп, это важно и полезно обсудить
* Когда ресурсы ограничены
#### Eisenhower matrix
> Определяется квадратом секторов как: срочно и важно, не срочно и важно, срочно и не важно, не срочно и не важно.
* Когда нужно балансировать между важными задачами, т.к. есть критерий срочности задач
* Нужно быстрое принятие решений
#### Others
* Модель Кано
* Weighted Scoring Model
* ICE Scoring
* Value vs Effort
* Cost of Delay