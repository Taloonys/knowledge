---
tags: [code, languages, cpp]
aliases: [POD-structures, standard layouts]
---

# POD-structures, standard layouts

> **–¢—Ä–∏–≤–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å** - –∫–ª–∞—Å—Å –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π-—á–ª–µ–Ω–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º (—è–≤–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –Ω–µ –∑–∞–¥–∞–Ω–∞) –∏ –ª–∏–±–æ –∑–∞–¥–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º *default*. –ü–æ–¥–æ–±–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–µ
–¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –¢—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å –º–æ–∂–Ω–æ "—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ" –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ —Ç–∏–ø–∞ *memcpy*. –¢—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º –µ—â—ë —è–≤–ª—è–µ—Ç—Å—è –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã 1 default –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
> 

**–¢—Ä–∏–≤–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —á–ª–µ–Ω—ã –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞—é—Ç:**

- –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ–¥ –æ–±—ä–µ–∫—Ç –±–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–±—ä—è–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –Ω–æ –Ω–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è)
- –ø–æ–±–∞–π—Ç–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
- –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –±–µ–∑ –æ—á–∏—Å—Ç–∫–∏

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** (***standard layout***) - —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–Ω—É –µ—ë –Ω–∞—Ñ–∏–≥), –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü. –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å++:

- –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
- —É—Ä–æ–≤–Ω–∏ –¥–æ—Å—Ç—É–ø–∞ private –∏ protected
- –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–ª–µ–Ω—ã —Å—Å—ã–ª–æ—á–Ω–æ–≥–æ —Ç–∏–ø–∞
- —á–ª–µ–Ω—ã, –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã, –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ —Å –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º —á–ª–µ–Ω–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –¥–≤—É—Ö –∏ –±–æ–ª–µ–µ –º–µ—Å—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è –Ω–µ—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —á–ª–µ–Ω–æ–≤ (–≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ –∏ —É —Å–µ–±—è)
- –±–æ–ª–µ–µ –¥–≤—É—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤ (–¥–∞–∂–µ –∫–æ—Å–≤–µ–Ω–Ω–æ –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏)

–í—Å–µ —Ç–∏–ø—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ 2 –≥—Ä—É–ø–ø—ã: **–æ–±—ä–µ–∫—Ç–Ω—ã–µ** (—Ñ—É–Ω–∫—Ü–∏–∏, —Å—Å—ã–ª–∫–∏ –∏ void) –∏ **–Ω–µ** **–æ–±—ä–µ–∫—Ç–Ω—ã–µ**. –û–±—ä–µ–∫—Ç–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç 2 –ø–æ–¥–≥—Ä—É–ø–ø—ã:

- POD (–≤—Å–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø—ã, wchar_t –∏ bool, enum'—ã, —É–∫–∞–∑–∞—Ç–µ–ª–∏, POD-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–∫–ª–∞—Å—Å—ã  –∏ POD-union)
- –Ω–µ-POD —Ç–∏–ø—ã

**POD-—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π/–∫–ª–∞—Å—Å–æ–º** –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞/–∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏–º–µ–µ—Ç: 

- –∑–∞–¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —è–≤–Ω–æ –≤—Å–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
- –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –Ω–µ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö protected –∏ private —á–ª–µ–Ω–æ–≤
- –Ω–µ —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —á–ª–µ–Ω–æ–≤ –¥–∞–Ω–Ω—ã—Ö –Ω–µ POD-—Ç–∏–ø–æ–≤ (–∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–≤ —Ç–∞–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ —Å—Å—ã–ª–æ–∫)

<aside>
üí° const –∏ volatile –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ POD-–æ–≤–æ—Å—Ç—å —Ç–∏–ø–∞

</aside>

POD —Ç–∏–ø—ã —Ä–∞—Å–ø–æ–ª–∞–≥–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π/—Ñ–∏—á –∏–∑ –° —è–∑—ã–∫–∞.

# –ë–∏—Ç–æ–≤–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∏ –ø–æ–±–∏—Ç–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

| (unsinged)__int8, bool, (signed/unsinged)char | 1 –±–∞–π—Ç |
| --- | --- |
| (unsinged)__int16, (unsinged)short, wchar_t | 2 –±–∞–π—Ç–∞ |
| (unsinged)int, (unsinged)__int32, (unsinged)long, float | 4 –±–∞–π—Ç–∞ |
| (unsinged)__int64, (unsinged)long long, (long)double | 8 –±–∞–π—Ç |

E—Å—Ç—å –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π —Å—Ç–æ–∏—Ç –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ 4 –±–∞–π—Ç–∞, —Ç–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–¥ 1 –∏ 2 –±–∞–π—Ç–∞ –≤ –¥–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –≤–∏–¥:
* _ _ _ * * _ _ * _ _ _ * _ _ _ * * _ _ (—Ç.–µ. —Å —Ç–∞–∫–∏–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ–º 1 –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é "—è—á–µ–π–∫—É –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è, 1 –∏–ª–∏ 2 –±–∞–π—Ç–∞ –∏–∑ —Ä–∞–∑—Ä—è–¥–∞ –≤ 4 –±–∞–π—Ç–∞)
–î–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è #pragma pack(push, <—á–∏—Å–ª–æ –±–∞–π—Ç>) ... #pragma pack(pop), –≤—Å—ë –º–µ–∂–¥—É –Ω–∏–º–∏ –±—É–¥–µ—Ç –≤—ã—Ä–∞–≤–Ω–µ–Ω–æ
–í –±–∞–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è 8 –±–∏—Ç. 1 –±–∏—Ç - –ø–æ —Ñ–∞–∫—Ç—É –±—É–ª–∏–Ω–æ–≤—Å–∫–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞, —Ç.–µ. –≤ 1 –±–∏—Ç–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0 –∏–ª–∏ 1. –° –ø–æ–º–æ—â—å—é –±–∏—Ç –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ø–∞–º—è—Ç—å –ª—é–±–æ–µ —á–∏—Å–ª–æ.
–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ 1 –±–∞–π—Ç–µ –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è 8 –±–∏—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ 0 –∏–ª–∏ 1, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å–ª–æ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–∞–º –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å,
—ç—Ç–æ 2 –≤ 8-–æ–π - 1 (—Ç.–∫. –º—ã —Å—á–∏—Ç–∞–µ–º 0 –∫–∞–∫ —É—á–∏—Ç—ã–≤–∞–µ–º—ã–π —ç–ª–µ–º–µ–Ω—Ç), —Ç.–µ. 255. –í –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è —ç—Ç–æ —á–∏—Å–ª–æ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ 11111111.
–°—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –ø–æ–±–∏—Ç–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∑–∞–ø–∏—Å–∏:

```cpp
typedef struct Slingshot{
	u32 a : 4;
	u32 b : 8;
	u32 c : 18;
}
```

–ó–¥–µ—Å—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ü–µ–ª–∏–∫–æ–º –∑–∞–Ω–∏–º–∞–µ—Ç 32 –±–∏—Ç(–∏–ª–∏ 4 –±–∞–π—Ç–∞), –≥–¥–µ –∫ –ø–µ—Ä–≤—ã–º 4 –±–∏—Ç–∞–º –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∞, –∫ —Å–ª–µ–¥—É—é—â–∏–º 8 –±–∏—Ç–∞–º —á–µ—Ä–µ–∑ b –∏ —Ç.–ø.
–ï—Å–ª–∏ –±—ã –≤ —ç—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±—ã–ª–∏ —Ç–æ–ª—å–∫–æ float a –∏ double b, —Ç–æ —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±—ã–ª –±—ã float + double (–∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –¥–æ –º–∞—à–∏–Ω–Ω–æ–≥–æ —Å–ª–æ–≤–∞).

<aside>
üí° –°–º. —Ç–∞–∫–∂–µ **pragma pack**

</aside>