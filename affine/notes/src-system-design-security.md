---
tags: [system-design]
aliases: [JWT]
---

> **Безопасность** в контексте системного проектирования охватывает процесс анализа и интеграции защитных мер для обеспечения устойчивости системы к различным угрозам, эксплуатации уязвимостей и атакам. Это означает создание систем с заложенными на этапе разработки функциями безопасности и применение лучших практик для предотвращения неавторизованного доступа, утечек данных, вредоносных воздействий и прочих рисков, связанных с безопасностью.

В рамки принципов безопасности системного проектирования входят следующие аспекты:

- **Аутентификация**: Обеспечение подтверждения личности пользователей или системных компонентов и назначение соответствующих уровней доступа на основании их идентификационных данных.
- **Авторизация**: Установка и управление правами доступа для ограничения действий пользователей или системных объектов в пределах разрешенных операций.
- **Шифрование**: Защита конфиденциальной информации с использованием методов шифрования для предотвращения неправомерного доступа или раскрытия данных.
- **Аудит и логирование**: Создание систем отслеживания и записи действий и событий в системе для последующего анализа и проверки соответствия.
- **Валидация входных данных**: Проверка и санация введенной информации для защиты от уязвимостей, таких как SQL-инъекции, кросс-сайтовые скрипты (XSS) и подделка межсайтовых запросов (CSRF).
- **Обновления**: Регулярное обновление системы с установкой последних патчей и обновлений безопасности для устранения известных уязвимостей.
- **Многоуровневая защита**: Реализация комплексной системы безопасности с использованием брандмауэров, систем обнаружения вторжений и антивирусного ПО для защиты от многочисленных угроз.
- **Принцип наименьших привилегий**: Предоставление пользовательских прав и привилегий на уровне, необходимом лишь для выполнения определенных задач, минимизируя тем самым риски, связанные с нарушением безопасности.
- **Защищенное соединение**: Использование защищенных коммуникационных протоколов, таких как HTTPS или SSL/TLS, для обеспечения конфиденциальности и целостности передаваемых данных.

# JWT
>JSON Web Token - некоторый JSON описатель авторизации 
## Mechanics
* клиент делает запрос аутентификации на сервер
* сервер возвращает ему JWT
* с этим JWT далее клиент постоянно обращается к сервису
* если JWT правильный -> то каждый запрос является авторизованным
## Body
### header
```json
header = { "alg": "HS256", "typ": "JWT" }
```
* в `alg` указывается тип шифрования
### payload
### signature
# TODO
* OAuth2/OpenID
* keycloak (это api + авторизации в одном сервисе)
* JWT