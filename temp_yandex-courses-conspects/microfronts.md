> Микрофронты - концепт микросервисов в мире фронтенда

**Полезно**, когда:
* Несколько команд
* Проект определённо собирается расти
* Важно развёртывание отдельных фронт-фич
**Не стоит** делать, когда:
* Проект небольшой
* Компоненты тесно связаны по смыслу
* Недостаточно ресурсов или навыков команды для такого рода развёрток и управления
* Когда критически важна производительность

**Полезные моменты**:
* Можно масштабировать отдельные части фронта
* Можно легко развёртывать и внедрять новые фичи почти независимо от других

# Basic components
## Модули 
> Некоторые абстракции, реализующие конкретную бизнес-логику
## Слой композиции 
> ... или то, как будут компоноваться эти самые микрофронты для клиента
### Серверная компоновка
> Рендер всей страницы происходит на стороне сервера и отдаётся клиенту
* Есть фреймворки для упрощения: Single SPA, Module Federation
* Специальные механизмы UI фреймворков: React (lazy, Suspence), Vue/Angular (динамический импорт)
* Специальные компоненты: iframes, web components
### Клиентская компоновка
> Клиент запрашивает некоторые данные, ему приходят части фронта, а компануются они все "прям при нём"
### Гибридная компоновка
> Использование обоих предыдущих компоновок... Тут часто бывает BFF
### BFF
> **Backend for Frontend** - означает, что для каждого микрофронта есть свой отдельный API/сервер, который и отдаёт микрофронту компоненты, актуальные только для него
## Маршрутизация
> Выбор маршрута того, какой микрофронт к кому обращается
* **Клиентская** - перемещение между разными частями веб приложения происходит на стороне клиента
* **Серверная** - только сервер решает, какие данные в ответ на запрос пользователя он может отдать
* **Гибридная** - клиентская + Серверная
* **Динамическая** - у микрофронта есть либо свой "роутер", либо есть некоторый оркестратор, который и решает в зависимости от запросов пользователя, куда обращаться
## Коммуникационный слой
> Отвечающий за коммуникацию микрофронтедов и остальной части приложения (всякого рода api бэка и т.п.)
* Вполне себе тут может быть какая-нибудь шины или Pub-sub система.
# Стратегии проектирования
## Вертикальная нарезка 
>Сконцентрирована на том, чтобы построить микрофронт над каждой отдельной бизнес-логикой
* Важно понимать, что домены бизнес-логика не должна быть взаимозависимой
* Позволяет командам независимо друг от друга легко внедрять обновления своих доменов
* Часто самых стандартный вариант для огромных проектов со сложным UI
### Domain Driven Design
> **(DDD) Domain Driven Design** - так называется стратегии, где всё отталкивается от "доменов ответственности", они же равносильны сферам бизнес-логики.
## Автономные команды
>Каждая команда выбирает какой тех стэк хочет использовать для своих задач
* Командам проще работать в знакомых себе сферах и внедрять что-то новое
* Важны преимущественные специфики конкретных тех-стэков
* Некоторые проблемы могут стать общими для разных команд, что замедлит разработку
## Изоляция
>Сконцентрирована на изоляции зависимостей компонентов. При этом допускаются некоторые общие зависимости, это решается некоторыми утилитами
* Позволяет не привязываться к версиям других микрофронтов
* Простое обновление конкретных компонентов
* Общие компоненты придётся включать в разные фронты, что повлияет на размер пакета
### Module Federation
> Подход, позволяющий объединить несколько модулей из разных тех стеков в одно
# Integration methods
## Build time
> Все пакетные зависимости и ресурсы помещают в один контейнер
* Получается большой пакет
* Нужно следить за версионной совместимостью
* Пересборка всего пакеты в случае чего
* Тесные связи
* Положительно сказывается на SEO и первичной загрузке сайта
* Примитивное развёртывание
## Run time
> Выстраивается единный API всех микрофронтов на стороне клиента
* Нужно продумать маршрутизацию
* Нужно подумать над контролем состояний
* Гибкое масштабирование
* Лёгкая интеграция модулей или их обновлений
# Other stuff
* **(SaaS) Software as a Service** - это некоторое ПО, которое работает как сервис с клиентом через интернет. (Ближайшие примеры: почта, облачные заметки и т.п.)
* **(SEO) Search engine optimisation** - это некоторый механизм поискового движка, которые каким-то образом по содержимому страницы оценивает приоритет отображения сайта как можно выше.