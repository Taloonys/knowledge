> **API (Application Programming Interface)** – это механизмы, которые позволяют **двум программным компонентам взаимодействовать друг с другом**, используя набор определений и протоколов. Например, система ПО метеослужбы содержит ежедневные данные о погоде. Приложение погоды на телефоне «общается» с этой системой через API и показывает ежедневные обновления погоды на телефоне.

Архитектура API обычно объясняется с точки зрения клиента и сервера. Приложение, отправляющее запрос, называется клиентом, а приложение, отправляющее ответ, называется сервером. Итак, в примере с погодой база данных службы – это сервер, а мобильное приложение – это клиент.

# SOAP API
> **SOAP API** – Simple Object Access Protocol, т. е. простой протокол доступа к объектам. Клиент и сервер обмениваются сообщениями посредством XML. Это менее гибкий API, который был более популярен в прошлом.

# REST API
> **REST API** (Representational State Transfer) - это самые популярные и гибкие API-интерфейсы в Интернете. Клиент отправляет запросы на сервер в виде данных. Сервер использует этот клиентский ввод для запуска внутренних функций и возвращает выходные данные обратно клиенту.

REST определяет набор функций, таких как GET, PUT, DELETE и т. д., которые клиенты могут использовать для доступа к данным сервера. Клиенты и серверы обмениваются данными по протоколу HTTP.

**Главной особенностью** [REST API](https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-vs-rest?pg=wianapi&cta=restapi) является то, что такая передача выполняется без сохранения состояния. Без сохранения состояния означает, что серверы не сохраняют клиентские данные между запросами. Клиентские запросы к серверу аналогичны URL-адресам, которые вы вводите в браузере для посещения веб-сайта. Ответ от сервера представляет собой простые данные без типичного графического отображения веб-страницы.

![[image-storage/Pasted image 20241026174121.png]]

# GraphQL
> Задуманный как альтернатива REST API язык запросов для API-интерфейсов, позволяющий передавать данные сразу внутри запроса, т.е. не нужно создавать несколько REST-запросов. Чтобы извлечь данные, достаточно ввести один запрос

https://help.reg.ru/support/servery-vps/oblachnyye-servery/ustanovka-programmnogo-obespecheniya/rukovodstvo-po-graphql#2

![[image-storage/Pasted image 20241026174216.png]]
# gRPC
- [см RPC](rpc.md)
> Написанная Google **альтернатива rpc**, где передаваемая процедура кладётся методами фреймворка в бинарный вид - **ProtoBuf'ы**, что значительно быстрее (10-20мс против 100-200мс с json/xml условно) + поддерживается разными языками программирования.

![[image-storage/Pasted image 20241026174747.png]]
# WebSocket API
 > **Websocket API** - это еще одна современная разработка web API, которая использует объекты JSON для передачи данных. WebSocket API поддерживает двустороннюю связь между клиентскими приложениями и сервером. Сервер может отправлять сообщения обратного вызова подключенным клиентам, что делает его более эффективным, чем REST API.
# CRUD
> Базовый набор операций в API: создание, чтение, обновление (запись), удаление.

![[image-storage/Pasted image 20241026173410.png]]
# ApiDesign
* Запрос одних и тех же данных не должен менять результат - **idempotent**
* **Get-запрос** не должен никогда менять данные
* **Backward compatibility** - обновление api не должно сломать проект, построенный на прошлой версии API
* Установка **Rate limit**
* **Cors-settings** - позволяет контроллировать какие домены могут вообще обращаться к API