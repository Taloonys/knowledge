
<aside>
üí° –í—Ä–µ–º–µ–Ω–Ω–æ. –≠—Ç–æ –∫–æ–≥–¥–∞-—Ç–æ –±—ã–ª–æ –º–æ—ë –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –∫–∞–∫ –æ–Ω–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ ID.

</aside>

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ–º–æ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø—É—Ç—ë–º "—á–∏—Å—Ç–æ C-–ª–∏–±—ã" –µ—Å—Ç—å 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞:

- fork() + setssid()
- double-fork tech

double-fork tech

–ï—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—è:

- Session ID (sid)
    - Process group ID (pgid)
        - Process ID (pid)

–í–æ –≤—Å–µ–π —Å–µ—Å—Å–∏–∏ –¥–æ—Å—Ç—É–ø –∫ tty –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ session leader process. –ü–æ–∫–∞ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –∫—Ç–æ-—Ç–æ –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –º–ª–∞–¥—à–µ, —Ç–æ —Ç–æ –≤—Å—ë –∂–∏–≤–æ, –æ—á–µ–≤–∏–¥–Ω–æ.

–ï—Å–ª–∏ —Å–ø–∞–≤–Ω–∏–º –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è, —Ç–æ –æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è session leader –∏ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ tty. –¢–∞–∫–∂–µ —Ç–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å —Å–ø–∞–≤–Ω–∏—Ç process group –∏ —è–≤–ª—è–µ—Ç—Å—è process group leader.

–ù–µ–º–Ω–æ–≥–æ –ø—Ä–æ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ç–µ—Ä–º–∏–Ω–∞–ª

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ tty –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º—É–ª—è—Ç–æ—Ä—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏–ª–∏ –ø—Å–µ–≤–¥–æ—Ç–µ—Ä–º–∏–Ω–∞–ª—ã (—ç—Ç–æ –≤—Ä–æ–¥–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ä–µ—á—å –ø—Ä–æ –≤–µ–±). –£–ø—Ä–∞–≤–ª—è—é—â–∏–º —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º –±—É–¥—É—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ —Ä–∞–∑ —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏. –£ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π:

- –£–ø—Ä–∞–≤–ª—è—é—â–∏–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ —Å–µ—Å—Å–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω
- –¢–æ–ª—å–∫–æ –ª–∏–¥–µ—Ä —Å–µ—Å–∏–∏ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ç–µ—Ä–º–∏–Ω–∞–ª—É
- –ü—Ä–æ—Ü–µ—Å—Å—ã –≤–Ω—É—Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ 2 –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤: foreground –∏ background
- –ï—Å–ª–∏ —É —Å–µ—Å—Å–∏–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ç–µ—Ä–º–∏–Ω–∞–ª—É, —Ç–æ –Ω–∞ foreground –ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ª–∏–¥–µ—Ä —Å–µ—Å—Å–∏–∏, –∞ –Ω–∞ –±—ç–∫–µ –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ
- –ö–æ–≥–¥–∞ –ø—Ä–∏–ª–µ—Ç–∞—é—Ç —Å–∏–≥–Ω–∞–ª—ã sigterm, sighup –∏ –ø—Ä–æ—á–∏–µ –∑–∞–∫—Ä—ã–≤–∞—à–∫–∏, —Ç–æ —Å–∏–≥–Ω–∞–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ foreground –≥—Ä—É–ø–ø—É –∫–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É
- –ï—Å–ª–∏ —Ä–µ—á—å –ø—Ä–æ –≤–µ–± –∏ –ø—Ä–∏–ª–µ—Ç–∞–µ—Ç –¥–∏—Å–∫–æ–Ω–Ω–µ–∫—Ç, —Ç–æ —Å–∏–≥–Ω–∞–ª —É—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–∏–¥–µ—Ä–∞ —Å–µ—Å—Å–∏–∏*

–°—Ç–∞—â—É –ø—Ä–∏–º–µ—Ä —Å —Å–∞–π—Ç–∞, —Ö–æ—Ç—è —è –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —Ü–∏—Ñ—Ä—ã pid/sid –≤–µ—Ä–Ω—ã–µ...

| **** | PID | PGID | SID |  |
| --- | --- | --- | --- | --- |
| **Parent** | 28084 | 28084 | 28046 | –ó–∞—Å–ø–∞–≤–Ω–∏–ª—Å—è parent, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ tty –∏ —è–≤–ª—è–µ—Ç—Å—è session leader & group leader |
| **Fork#1** | 28085 | 28084 | 28046 | –ü–æ—è–≤–∏–ª—Å—è —Ä–µ–±—ë–Ω–æ–∫ |
| **Decouple#1** | 28085 | 28085 | 28085 | –î—Ä–æ–ø–∞–µ–º Parent -> —Ä–µ–±—ë–Ω–æ–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤ —Å–µ—Å—Å–∏–∏ –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è session leader (–≤–æ–∑–º–æ–∂–Ω–æ... –≤–µ–∑–¥–µ –≥–æ–≤–æ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Ç–∞–∫ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞–µ—Ç—Å—è, —Ö–æ—Ç—è –ø–æ—á–µ–º—É-—Ç–æ –≤—Å–µ–≥–¥–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç "–º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø"), –Ω–æ —Ç–∞–∫–æ–π —Ä–µ–±—ë–Ω–æ–∫ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º –≥—Ä—É–ø–ø—ã –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ü–∏—Ñ–µ—Ä–∫—É PGID (—è –Ω–µ —É–≤–µ—Ä–µ–Ω, –¥–æ–ª–∂–Ω–æ —Ç–∞–∫ –æ—Ç–º–µ—á–∞—Ç—å—Å—è –∏–ª–∏ —á–µ–ª–æ–≤–µ–∫ –æ—à–∏–±—Å—è, –Ω–æ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º —ç—Ç–æ —Ç–∞–∫)
 |
| **Fork#2** | 28086 | 28085 | 28085 | –§–æ—Ä–∫–∞–µ–º –≤–Ω—É–∫–∞ –æ—Ç —Ä–µ–±—ë–Ω–∫–∞, –≤–Ω—É–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏, –Ω–æ —Ç.–∫. —Ä–µ–±—ë–Ω–æ–∫ –±—ã–ª –Ω–µ –ª–∏–¥–µ—Ä–æ–º –≥—Ä—É–ø–ø—ã, —Ç–æ:
‚Ä¢ –í–Ω—É–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º **–Ω–æ–≤–æ–π** —Å–µ—Å—Å–∏–∏, –≤ –∫–æ—Ç–æ—Ä–æ–π –≤–Ω—É–∫ –∏ –æ—Å—Ç–∞—ë—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º
‚Ä¢ –í–Ω—É–∫ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ª–∏–¥–µ—Ä–æ–º **–Ω–æ–≤–æ–π** –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚Ä¢ –ù–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤–Ω—É–∫ ‚Äì –ª–∏–¥–µ—Ä —Å–µ—Å—Å–∏–∏, –æ–Ω **–ù–ï** –ø–æ–ª—É—á–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–¥ controlling terminal (–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ tty, –¥–∞–∂–µ –µ—Å–ª–∏ —É —Ä–æ–¥–∏—Ç–µ–ª—è –æ–Ω –±—ã–ª)
 |
| **Decouple#2** | 28086 | 28086 | ? | –ï—Å–ª–∏ –¥—Ä–æ–ø–Ω–µ–º —Ä–µ–±—ë–Ω–∫–∞, —Ç–æ –≤–Ω—É–∫—É –±—É–¥–µ—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ, –æ–Ω —Ä–æ–¥–æ–Ω–∞—á–∞–ª—å–Ω–∏–∫ —Å–µ—Å—Å–∏–∏ (—Ä–µ–±—ë–Ω–æ–∫ –∫–Ω—á —É–∑–Ω–∞–µ—Ç, —á—Ç–æ –≤–Ω—É–∫ —É–º–µ—Ä). –í –∏—Ç–æ–≥–µ –∏–º–µ–µ–º –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ tty, –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏ –º–æ–∂–µ—Ç –∑–∞–±—Ä–∞—Ç—å —Å —Å–æ–±–æ–π, –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤–Ω—É–∫–æ–º –≤—Ä–æ–¥–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç pid1, —Ç.–µ. init.
 |

fork() + setssid()

–û–¥–Ω–æ–π –∏–∑ –≤–∞–∂–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–µ–º–æ–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ç–µ—Ä–º–∏–Ω–∞–ª—É, –ø–æ—ç—Ç–æ–º—É –ø–æ—á–µ–º—É –±—ã –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ñ–æ—Ä–∫–∞ –Ω–µ —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —Ä–µ–±—ë–Ω–æ–∫ –Ω–µ –±—É–¥–µ—Ç –ª–∏–¥–µ—Ä–æ–º —Å–µ—Å—Å–∏–∏?

–û—Ç—Å—é–¥–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–º–æ–Ω–∞: (—Ç–∏–ø–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∞)

- –ù—É–∂–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–∞–≤ -> chmod 000 / chmod 0
- –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ª–∏–¥–µ—Ä–æ–º –≥—Ä—É–ø–ø—ã
- –ü—Ä–æ—Ü–µ—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º—É —Ç–µ—Ä–º–∏–Ω–∞–ª—É
- –î–µ–º–æ–Ω –¥–æ–ª–∂–µ–Ω ¬´–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è¬ª –≤ non-user –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —á–∞—â–µ –≤—Å–µ–≥–æ –≤ root –≥–¥–µ-–Ω–∏–±—É–¥—å
- –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—ã
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±–æ—Ä–≤–∞–Ω—ã stdcit, stdout, stderr

**–û–±—â–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –¥–ª—è tty –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:**

Input -> Keyboard driver -> Window emulator (with terminal) -> Terminal emulator -> user space */dev* context (virtual memory also there) -> Discipline (abstract lay that provide some terminal features) -> TTY driver == TTY -> Processes

tty -> –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –æ—Ç—Å—ã–ª–∫–∞ –∫ teletype –ø—Ä–∏–Ω—Ç–µ—Ä—É, –≥–¥–µ –ø–µ—á–∞—Ç–∞–ª—Å—è —Ç–µ–∫—Å—Ç —É –ø–æ–ª—É—á–∞—Ç–µ–ª—è –Ω–∞ –±—É–º–∞–≥–µ, —á—Ç–æ–±—ã —Ç–æ—Ç –º–æ–≥ –ø—Ä–æ—á–∏—Ç–∞—Ç—å) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —ç–º—É–ª—è—Ç–æ—Ä—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –∏ –ø—Å–µ–≤–¥–æ—Ç–µ—Ä–º–∏–Ω–∞–ª—ã, –Ω–æ —É –ª–∏–Ω—É–∫—Å–∞ —Ç–∞–∫ –∂–µ –µ—Å—Ç—å —Ñ–∏—á–∞ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–µ–Ω–∏–µ —Å –≤—Å–µ–º —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–º–æ–≤, –ø–æ—ç—Ç–æ–º—É –æ–±—â–µ–Ω–∏–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º (—Ç–æ—á–Ω–µ–µ - –¥—Ä–∞–π–≤–µ—Ä–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ *—Ñ–∞–π–ª—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞,* tty —Ç–æ–∂–µ –∏–º–µ–µ—Ç —Å–≤–æ–π –¥—Ä–∞–π–≤–µ—Ä

Systemd->systemctl(–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

–≠—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è user-mode CLI, –¥–ª—è –æ–±—â–µ–Ω–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏. –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è unit —Ñ–∞–π–ª –≤ –ø—É—Ç—å systemd –∏ –ø–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–º –∑–∞–¥–∞–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–ø—É—Å–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ root.

- –†–∞–∑ —É–∂ —Ä–µ—á—å —à–ª–∞ –ø—Ä–æ –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–∞ –º–Ω–æ–≥–∏—Ö OS.. —É system –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞, –µ—Å–ª–∏ —Ç–æ—Ç –ø–æ—á–µ–º—É-—Ç–æ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è, –æ–¥–Ω–∞–∫–æ –Ω–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö –æ–Ω –º–æ–∂–µ—Ç –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –≤–æ–æ–±—â–µ –Ω–∏—á–µ–≥–æ‚Ä¶
- *–ß—Ç–æ —è –¥–µ–ª–∞—é?*... –Ω–µ –∑–Ω–∞—é.

–Ø –∏—Å–ø–æ–ª—å–∑—É—é –≤ runner-svc systemd-unit. –í—Å–µ unit'—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ª–∏–¥–µ—Ä–∞–º–∏ —Å–µ—Å—Å–∏–∏, –æ–Ω–∏ –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ tty. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –º–∞—Ö–∏–Ω–∞—Ü–∏–π –≤—ã—à–µ –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–ª–∞—Ç—å –¥–≤–æ–π–Ω–æ–π —Ñ–æ—Ä–∫.

- *–ü–æ—á–µ–º—É –ø—Ä–∏ 1 —Ñ–æ—Ä–∫–µ unit –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞, –∞ –ø—Ä–∏ 2 –ª–∏—à—å –∏–Ω–æ–≥–¥–∞?* - –Ø —Ç–∞–∫ –∏ –Ω–µ –ø–æ–Ω—è–ª, –≤–µ–∑–¥–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —Ç–æ, —á—Ç–æ UnitType=forking - –¥–æ–≤–æ–ª—å–Ω–æ –∂–∏—Ä–Ω–∞—è –∏ –±–∞–≥–æ–≤–∞–Ω–Ω–∞—è –≤–µ—â—å. –°–∞–º –ø–æ —Å–µ–±–µ unit –º–æ–∂–µ—Ç –≤—Å—ë, –Ω–æ –µ–≥–æ —Ç–∏–ø forking - –Ω–∏—á–µ–≥–æ. –í —Å—Ç–∞—Ç—É—Å–µ –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è, —á—Ç–æ start Completed, —Ç.–∫. —Å–º–æ—Ç—Ä–∏—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ 1-–≥–æ —Ñ–æ—Ä–∫–∞, —Ö–æ—Ç—è –ø—Ä–æ—Ü–µ—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–∫–∞—é—Ç—Å—è –ø–æ—Ç–æ–º (–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º–∏!) —É–∂–µ –∏–º–µ—é—Ç —Å–≤–æ—é –∂–∏–∑–Ω—å, –∫–æ—Ç–æ—Ä—É—é —Å—Ç–∞—Ç—É—Å–æ–º –∏ –∂—É—Ä–Ω–∞–ª–æ–º –Ω–µ –æ—Ç—Ç—Ä–µ–∫–∞—Ç—å. –î–ª—è type=forking –µ—â—ë —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º PIDFILE, –¥–∞–∂–µ –ø–æ –º–µ—Ä–∫–∞–º –ª–∏–Ω—É—Ö–∞ –æ–Ω —Å—á–∏—Ç–∞–µ—Ç—Å—è –¥—Ä–µ–≤–Ω–∏–º –∏ –∫–æ—Å—Ç—ã–ª—å–Ω—ã–º (—á–µ–º—É —É–¥–∏–≤–ª—è—Ç—å—Å—è, —Ö–µ—Ö), –≤ –Ω–µ–≥–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è PID'—ã –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —á—Ç–æ —Å–ø–∞–≤–Ω—è—Ç—Å—è (–¥–∞–∂–µ –Ω–µ –≤ —Ä–∞–º–∫–∞—Ö group process –∏–ª–∏ —Å–µ—Å—Å–∏–∏). –ü–æ–ª–µ–∑–Ω–∞—è —Ñ–∏—á–∞:¬†*Note that this means¬†**systemctl start**¬†command lines for¬†simple¬†services will report success even if the service's binary cannot be invoked successfully
- –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type=notify, –±–æ–ª–µ–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–µ–µ —Ä–∞—Å—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã HUP –≤—Å–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º —é–Ω–∏—Ç–∞. –¢–∞–∫–∂–µ –µ—Å—Ç—å notify-reload, –Ω–æ –æ–Ω —Å –≤–µ—Ä—Å–∏–∏ system 245, —ç—Ç–æ —É–∂–µ —Å–∞–º—ã–π —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç.

**–ö —Å–ª–æ–≤—É –ø—Ä–æ —Ç–æ, –∫–∞–∫–∏–µ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç system**

**Ubuntu20-04 –∏–º–µ–µ—Ç systemd 243, Astralinux 1.7 ‚Äì systemd 241/243.**

[https://en.wikipedia.org/wiki/Category:Linux_distributions_without_systemd](https://en.wikipedia.org/wiki/Category:Linux_distributions_without_systemd)

**–ß—Ç–æ –∏–º–µ–µ–º?** –ß–∏—Å—Ç–æ service-object –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —Å 2 —Ñ–æ—Ä–∫–∞–º–∏, —ç—Ç–æ —Ç–∏–ø–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –î–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑–≤–Ω–µ, —Ç.–µ. runner‚Äô–∞, —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–∫–æ–º—É —Å–µ—Ä–≤–∏—Å—É —Å–∏–≥–Ω–∞–ª—ã —á–µ—Ä–µ–∑ systemd, —Ö–æ—Ç—è —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ –∏ –±–µ–∑ –Ω–µ–≥–æ, –µ—Å–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö PID –≤ —Å–∏—Å—Ç–µ–º–µ –≤ –ø–∞–ø–∫–µ /proc/[pid]/stats/ –∏–ª–∏ /proc/[pid]/tasks/[pid]/children –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏—Ö —Ä–æ–¥–∏—Ç–µ–ª–µ–π‚Ä¶, –æ–¥–Ω–∞–∫–æ —è –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –æ–Ω–∏ –±—É–¥—É—Ç –≤–µ—Å—Ç–∏ —Å–µ–±—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –∫–∞–∫ –º–∏–Ω–∏–º—É–º /children —Ç–æ—á–Ω–æ –Ω–µ –Ω–∞ –≤—Å–µ—Ö –¥–∏—Å—Ç—Ä–æ –µ—Å—Ç—å, –∞ /stats –ø—Ä–æ—Å—Ç–æ –ø–æ–¥ –≤–æ–ø—Ä–æ—Å–æ–º.

–°–æ–≥–ª–∞—Å–Ω–æ Maurice J. Bach (1986).¬†*The Design of the UNIX Operating System* –≤—Å–µ unit-–ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç —É–∂–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–µ–º–æ–Ω–∞, –¥–ª—è –∏–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∏–º –Ω—É–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ unit —Ñ–∞–π–ª–µ (–∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é), —á–∞—Å—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –≥–æ–≤–æ—Ä—è—â–∞—è –æ —Ç–æ–º –∂–µ: ¬´Unless¬†Type=forking¬†is set, the process started via this command line will be considered the main process of the daemon¬ª. (Forking –≤ –∏—Ç–æ–≥–µ —Ç–æ–∂–µ daemon context)